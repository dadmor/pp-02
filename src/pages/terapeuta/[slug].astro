---
// src/pages/terapeuta/[slug].astro
import therapistsData from '../../data/therapists.json';
import MinimalTemplate from '../../components/templates/MinimalTemplate.astro';
import WarmTemplate from '../../components/templates/WarmTemplate.astro';
import IntegrativeTemplate from '../../components/templates/IntegrativeTemplate.astro';
import MuseumTemplate from '../../components/templates/MuseumTemplate.astro';

export async function getStaticPaths() {
  return therapistsData.map((therapist) => ({
    params: { slug: therapist.slug },
    props: { therapist },
  }));
}

const { therapist } = Astro.props;

const templates: Record<string, any> = {
  minimal: MinimalTemplate,
  warm: WarmTemplate,
  integrative: IntegrativeTemplate,
  museum: MuseumTemplate
};

const SelectedTemplate = templates[therapist.template] || MinimalTemplate;
const data = { therapist };
---

<SelectedTemplate data={data} />