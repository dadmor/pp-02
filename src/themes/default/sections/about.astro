---
export interface Props {
  data: {
    eyebrow?: string;
    title: string;
    paragraphs: string[];
    highlights?: Array<{
      title: string;
      items: string[];
    }>;
    image?: string;
    imageAlt?: string;
  };
  settings?: {
    layout?: 'left' | 'right' | 'center';
    background?: 'white' | 'muted';
  };
}

const { data, settings = {} } = Astro.props;
const { layout = 'left', background = 'muted' } = settings;

const bgClass = background === 'white' ? 'bg-white' : 'bg-orange-50';
---

<section id="about" class={`py-24 px-6 md:px-8 ${bgClass}`}>
  <div class="max-w-6xl mx-auto">
    <div class={`grid md:grid-cols-2 gap-16 items-center ${layout === 'right' ? 'md:flex-row-reverse' : ''}`}>
      <article class={layout === 'center' ? 'md:col-span-2 max-w-3xl mx-auto text-center' : ''}>
        <header>
          {data.eyebrow && (
            <p class="text-orange-700 font-medium mb-4 text-sm tracking-wide uppercase">{data.eyebrow}</p>
          )}
          <h2 class="font-serif text-4xl md:text-5xl mb-6">{data.title}</h2>
        </header>
        
        <div class="space-y-4 text-gray-600">
          {data.paragraphs.map((paragraph) => (
            <p>{paragraph}</p>
          ))}
        </div>
        
        {data.highlights && data.highlights.length > 0 && (
          <div class={`grid ${data.highlights.length > 1 ? 'grid-cols-2' : ''} gap-8 mt-10`}>
            {data.highlights.map((section) => (
              <div>
                <h3 class="font-medium mb-4 text-gray-900">{section.title}</h3>
                <ul class="space-y-3 text-sm text-gray-600">
                  {section.items.map(item => (
                    <li class="flex items-start gap-3">
                      <span class="w-1.5 h-1.5 bg-orange-600 rounded-full mt-1.5 flex-shrink-0"></span>
                      <span>{item}</span>
                    </li>
                  ))}
                </ul>
              </div>
            ))}
          </div>
        )}
      </article>
      
      {data.image && layout !== 'center' && (
        <div class="relative">
          <img
            src={data.image}
            alt={data.imageAlt || data.title}
            class="w-full rounded-2xl shadow-lg"
            loading="lazy"
            width="600"
            height="600"
          />
        </div>
      )}
    </div>
  </div>
</section>