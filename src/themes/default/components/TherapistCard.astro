---
export interface Props {
  therapist: {
    name: string;
    slug: string;
    title: string;
    exp: number;
    spec: string[];
    loc: string;
    price: number[];
    img: string;
    avail: boolean;
  };
}

const { therapist: t } = Astro.props;
---

<article class="bg-white rounded-2xl overflow-hidden hover:shadow-xl transition-all duration-300 group h-full flex flex-col">
  <a href={`/terapeuta/${t.slug}`} class="block flex-1 flex flex-col">
    <div class="relative overflow-hidden h-64">
      <img
        src={`/images/therapists/${t.img}.webp`}
        alt={`${t.name} - ${t.title}`}
        class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
        loading="lazy"
        width="400"
        height="400"
      />
      <span class={`absolute top-4 right-4 text-xs px-3 py-1.5 rounded-full backdrop-blur-md ${
        t.avail ? 'bg-green-500/90 text-white' : 'bg-orange-500/90 text-white'
      }`}>
        {t.avail ? 'Wolne miejsca' : 'Lista oczekujących'}
      </span>
    </div>
    <div class="p-6 flex-1 flex flex-col">
      <header>
        <h3 class="text-lg font-semibold mb-1">{t.name}</h3>
        <p class="text-sm text-gray-600 mb-1">{t.title}</p>
        <p class="text-xs text-gray-500 mb-4">{t.exp} lat doświadczenia</p>
      </header>
      
      <div class="space-y-4 text-sm flex-1">
        <div>
          <h4 class="text-xs text-gray-500 mb-2">Specjalizacje:</h4>
          <ul class="flex flex-wrap gap-1.5">
            {t.spec.map(s => (
              <li class="text-xs bg-gray-100 px-2.5 py-1 rounded-full">{s}</li>
            ))}
          </ul>
        </div>
        
        <dl class="space-y-2 text-xs">
          <div class="flex justify-between">
            <dt class="text-gray-500">Lokalizacja:</dt>
            <dd class="text-gray-700">Warszawa, {t.loc}</dd>
          </div>
          <div class="flex justify-between">
            <dt class="text-gray-500">Cena:</dt>
            <dd class="font-medium text-gray-900">{t.price[0]}-{t.price[1]} PLN</dd>
          </div>
        </dl>
      </div>
      
      <div class="mt-6">
        <span class="block w-full py-3 bg-gray-900 text-white text-center text-sm font-medium rounded-full group-hover:bg-gray-800 transition-colors">
          Zobacz profil
        </span>
      </div>
    </div>
  </a>
</article>