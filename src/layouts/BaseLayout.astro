---
// src/layouts/BaseLayout.astro
import SEO from "../components/SEO.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import "../styles/global.css";

export interface Props {
  title: string;
  description: string;
  canonical?: string;
  image?: string;
  noindex?: boolean;
  structuredData?: object;
  showHeader?: boolean;
  showFooter?: boolean;
  headerVariant?: 'default' | 'custom';
  mainClass?: string;
}

const { 
  showHeader = true, 
  showFooter = true,
  headerVariant = 'default',
  mainClass = '',
  ...seoProps 
} = Astro.props;

const currentPath = Astro.url.pathname;
---

<!doctype html>
<html lang="pl">
<head>
  <SEO {...seoProps} />
  <slot name="head" />
</head>
<body>
  <a href="#main" class="sr-only focus:not-sr-only">Przejdź do treści</a>
  
  {showHeader && headerVariant === 'default' && (
    <Header currentPath={currentPath} />
  )}
  
  {headerVariant === 'custom' && (
    <slot name="header" />
  )}
  
  <main id="main" class={`${showHeader && headerVariant === 'default' ? 'pt-20' : ''} ${mainClass}`}>
    <slot />
  </main>
  
  {showFooter && (
    <slot name="footer">
      <Footer />
    </slot>
  )}
  
  <slot name="scripts" />
</body>
</html>